(()=>{"use strict";fetch("dbHeroes.json").then((e=>e.json())).then((e=>{(e=>{let t=document.querySelector(".wrapper");const n=document.getElementById("movies");let o=[],s=[];const r=e=>{let n=document.createElement("div"),o=document.createElement("img"),r=document.createElement("div"),a=document.createElement("div"),i=document.createElement("p");o.src=e.photo;for(let t in e){if("photo"!=t){let n=t.substring(0,1).toUpperCase()+t.substring(1);i.innerHTML+=`<b>${n}:</b> ${e[t]} <br>`}if("movies"==t)for(let n of e[t])s.includes(n)||s.push(n)}o.classList.add("hero__image"),n.classList.add("wrap"),r.classList.add("wrapImg"),a.classList.add("wrapP"),r.append(o),a.append(i),n.append(r),n.append(a),t.append(n)};e.forEach(((e,t)=>{o.push(e),r(o[t])}));for(let e=0;e<s.length;e++)n.options[n.options.length]=new Option(s[e],"значение");n.addEventListener("change",(()=>{let e;t.innerHTML="","Выберите фильм"==n.options[n.selectedIndex].innerText.toString()?o.forEach((e=>{r(e)})):o.forEach((t=>{void 0!==t.movies&&(e=!1,t.movies.forEach((t=>{t==n.options[n.selectedIndex].innerText.toString()&&(e=!0)})),e&&r(t))}))}));let a=!1;t.addEventListener("click",(e=>{if(e.target.closest(".hero__image")){let t=document.querySelectorAll(".hero__image");0==a?(t.forEach((e=>{e.classList.remove("opened")})),e.target.classList.add("opened"),a=!0):e.target.classList.contains("opened")&&(e.target.classList.remove("opened"),a=!1)}}))})(e)}))})();